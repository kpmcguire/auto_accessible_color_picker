/*! auto_accessible_color_picker v0.0.1 | (c) 2019 Kevin McGuire | MIT License | http://link-to-your-git-repo.com */
var stepfactor=.5,sorryString="You've stumped me. I cannot find a color that makes this text readable.",icons=["km-icon-pizza","km-icon-cookie","km-icon-flask","km-icon-paperplane","km-icon-footprints","km-icon-astronaut"],lorems=["Lorem ipsum dolor sit amet","Consectetur adipiscing elit","Nam luctus justo eget venenatis","Maecenas faucibus sapien","Ut volutpat accumsan erat"];function randomContent(o){return o[Math.floor(Math.random()*o.length)]}function flashmessage(o){$(".flashmessage").text(o)}function checkReadability(o){var r=o.css("color"),a=o.css("background-color"),e=tinycolor.isReadable(a,r,{});return outputReadabilityStrings(o),e}function outputReadabilityStrings(o){var r=o.css("color"),a=o.css("background-color"),e=tinycolor.isReadable(a,r,{level:"AA",size:"large"}),t=tinycolor.isReadable(a,r,{level:"AA",size:"small"});return e?$(".readable-large").text("Readable").removeClass("is-danger").addClass("is-success"):$(".readable-large").text("Not Readable").removeClass("is-success").addClass("is-danger"),t?$(".readable-small").text("Readable").removeClass("is-danger").addClass("is-success"):$(".readable-small").text("Not Readable").removeClass("is-success").addClass("is-danger"),!1}function getRatio(o){var r=o.css("color"),a=o.css("background-color"),e=tinycolor.readability(a,r);return e=e.toFixed(2)}function setExampleColors(){var o=tinycolor($(".fg-color-input").val()),r=tinycolor($(".bg-color-input").val()),a=$(".example");return a.css("background-color",r),a.css("color",o),$(".ratio").text(getRatio(a)+":1"),outputReadabilityStrings(a),!1}function darkenColor(o,r){r=r||5;var a=tinycolor(o.val()).darken(r);return o.minicolors("value",a.toHexString()),o.trigger("change"),!1}function lightenColor(o,r){r=r||5;var a=tinycolor(o.val()).lighten(r);return o.minicolors("value",a.toHexString()),o.trigger("change"),!1}function autoAdjust(o){var r=$(o.target).attr("id");if("color1auto"==r)var a=$("#color1");if("color2auto"==r)a=$("#color2");for(var e=tinycolor($("#color1").val()),t=tinycolor($("#color2").val()),l=tinycolor.isReadable(e,t,{});0==l;){if(e=tinycolor($("#color1").val()),t=tinycolor($("#color2").val()),l=tinycolor.isReadable(e,t,{}),"color1auto"==r&&t.isDark()&&(lightenColor(a,stepfactor),"#ffffff"==e.toHexString())){flashmessage(sorryString);break}if("color1auto"==r&&t.isLight()&&(darkenColor(a,stepfactor),"#000000"==e.toHexString())){flashmessage(sorryString);break}if("color2auto"==r&&e.isDark()&&(lightenColor(a,stepfactor),"#ffffff"==t.toHexString())){flashmessage(sorryString);break}if("color2auto"==r&&e.isLight()&&(darkenColor(a,stepfactor),"#000000"==t.toHexString())){flashmessage(sorryString);break}}return!1}$(".km-icon-a, .km-icon-b").addClass(randomContent(icons)),$(".km-lorem-a, .km-lorem-b").text(randomContent(lorems)),$(window).on("load",setExampleColors),$("#color1, #color2").change((function(){return $(this).val().length>=3&&(flashmessage(""),setExampleColors()),!1})),$("#color1darker, #color2darker").click((function(o){return darkenColor($(o.target).parents(".colorfield-container").find(".color-input"),2),!1})),$("#color1lighter, #color2lighter").click((function(o){return lightenColor($(o.target).parents(".colorfield-container").find(".color-input"),2),!1})),$("#color1auto, #color2auto").click(autoAdjust),$("#color1, #color2").minicolors({changeDelay:300,change:function(){var o=$(".example");return checkReadability(o),outputReadabilityStrings(o),!1}});